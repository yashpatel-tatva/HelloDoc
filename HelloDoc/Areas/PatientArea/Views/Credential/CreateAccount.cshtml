@{
    ViewData["Title"] = "Login Page";
}
@using HelloDoc.Areas.PatientArea.ViewModels
@model PatientRequestViewModel;
@{
    Layout = "_Styles";
}

<div class="main d-flex py-2 flex-column imain">
    <div class="bgimage">
        <img src="~/res/7768657_3763028.png" alt="" id="bgimage">
    </div>
    <div class="d-flex justify-content-around position-relative">
        <div class="logo">
            <img src="~/res/Logo.png" class="logo">
        </div>
    </div>
    <div class="cmain">
        <div class="content">
            <div class="py-2">
                <span class="h2 ps-2">Create Your Account</span>
            </div>
            <form asp-controller="Credential" asp-action="CreateAccount" method="post">
                <div class="py-2">
                    <div class="my-2 form-group d-flex align-items-center rounded">
                        <input type="email" asp-for="Email" class="form-control" placeholder="" value="@Model.Email" required readonly><span>Email</span>
                        <label class="px-2"><i class="fa-regular fa-circle-user"></i></label>
                    </div>
                        <span asp-validation-for="Email" class="text-danger"></span>
                    <div class="d-flex">
                        <div class="my-2 form-group d-flex align-items-center rounded col-xl-6 me-1">
                            <input type="text" asp-for="FirstName" class="form-control" placeholder="" required><span>First Name</span>
                        </div>
                        <span asp-validation-for="FirstName" class="text-danger"></span>
                        <div class="my-2 form-group d-flex align-items-center rounded col-xl-6 ms-1">
                            <input type="text" asp-for="LastName" class="form-control" placeholder="" required><span>Last Name</span>
                        </div>
                        <span asp-validation-for="LastName" class="text-danger"></span>
                    </div>
                    <div class="my-2 form-group d-flex align-items-center rounded ">
                        <input type="password" asp-for="Password" id="showpass1" class="form-control" placeholder="" required><span>Password</span>
                        <label id="eyeiconlabel1" class="px-2"><i class="fa-regular fa-eye-slash" id="eyeicon1"></i></label>
                        <span asp-validation-for="Password"></span>
                    </div>
                    <div class="my-2 form-group d-flex align-items-center rounded ">
                        <input type="password" asp-for="ConfirmPassWord" id="showpass" class="form-control" placeholder="" required><span>Confirm Password</span>
                        <label id="eyeiconlabel" class="px-2"><i class="fa-regular fa-eye-slash" id="eyeicon"></i></label>
                        <span asp-validation-for="ConfirmPassWord"></span>
                    </div>
                    <div class="py-2 form-group border-0">
                        <button class="form-control subbtn" type="button">Create Account</button>
                    </div>
                </div>
            </form>
        </div>
    </div>


    <div class="bggray d-flex justify-content-center py-2 mt-auto  position-relative" id="bg">
        <span class="fw-medium px-2  "><a href="#" class="text-secondary">Terms and Condition</a></span>
        <span class="fw-medium px-2  "><a href="#" class="text-secondary"> | </a></span>
        <span class="fw-medium px-2  "><a href="#" class="text-secondary">Privacy Policy</a></span>
    </div>
</div>
<div class="modebtn">
    <button style="background-color: transparent;" class="border-1 rounded" id="btn1">
        <i class="fa-solid fa-sun fa-spin fa-xl" id="imgmode"></i>
    </button>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" asp-append-version="true"></script>

<script>
    const eyeiconlabel = document.getElementById('eyeiconlabel');
    const eyeicon = document.getElementById('eyeicon');
    const showpass = document.getElementById('showpass');
    eyeiconlabel.addEventListener("click", () => {
        if (showpass.type === "text") {
            showpass.type = "password";
            eyeicon.classList.remove("fa-eye");
            eyeicon.classList.add("fa-eye-slash");

        } else {
            showpass.type = "text";
            eyeicon.classList.remove("fa-eye-slash");
            eyeicon.classList.add("fa-eye");
        }
    })
    const eyeiconlabel1 = document.getElementById('eyeiconlabel1');
    const eyeicon1 = document.getElementById('eyeicon1');
    const showpass1 = document.getElementById('showpass1');
    eyeiconlabel1.addEventListener("click", () => {
        if (showpass1.type === "text") {
            showpass1.type = "password";
            eyeicon1.classList.remove("fa-eye");
            eyeicon1.classList.add("fa-eye-slash");

        } else {
            showpass1.type = "text";
            eyeicon1.classList.remove("fa-eye-slash");
            eyeicon1.classList.add("fa-eye");
        }
    })

    $('.subbtn').on('click', function () {
        var password = $("#showpass1").val();
        var confirmPassword = $("#showpass").val();
        var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@@$!%*?&])[A-Za-z\d@@$!%*?&]{8,}$/;
        if (password != confirmPassword) {
            Swal.fire("Passwords do not match.");
        } else if (!regex.test(password)) {
            Swal.fire("Password must contain at least one uppercase letter, one lowercase letter, and one number, and be at least 8 characters long.");
        } else {
            $(this).closest('form').submit();
        }
    })

</script>